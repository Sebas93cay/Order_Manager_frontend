(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},461:function(e,t,n){},462:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(17),c=n.n(s),i=(n(150),n(151),n(8)),l=n(3),o=n.n(l),d=n(7),u=n(4),j=(n(152),n(5)),b=n(0),m=a.a.createContext();function h(e){var t=e.children,n=Object(j.g)(),a=Object(r.useState)(null),s=Object(u.a)(a,2),c=s[0],i=s[1],l=Object(r.useState)(localStorage.getItem("token")),h=Object(u.a)(l,2),p=h[0],O=h[1],x=Object(r.useState)(!1),f=Object(u.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)(!0),N=Object(u.a)(y,2),w=N[0],S=N[1],C=Object(r.useState)(!1),k=Object(u.a)(C,2),F=k[0],T=k[1],I=Object(r.useState)(!1),E=Object(u.a)(I,2),_=E[0],M=E[1],P=Object(r.useState)([]),D=Object(u.a)(P,2),L=D[0],A=D[1],V=Object(r.useState)([]),q=Object(u.a)(V,2),B=q[0],H=q[1],U=Object(r.useState)({}),R=Object(u.a)(U,2),J=R[0],z=R[1],$=Object(r.useState)({}),G=Object(u.a)($,2),W=G[0],K=G[1],Q=Object(r.useState)(!1),X=Object(u.a)(Q,2),Y=X[0],Z=X[1],ee=Object(r.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],re=te[1],ae=Object(r.useState)({}),se=Object(u.a)(ae,2),ce=se[0],ie=se[1],le=Object(r.useState)(!1),oe=Object(u.a)(le,2),de=oe[0],ue=oe[1],je=Object(r.useState)(!1),be=Object(u.a)(je,2),me=be[0],he=be[1],pe=Object(r.useState)(!1),Oe=Object(u.a)(pe,2),xe=Oe[0],fe=Oe[1],ve=function(e,t){return new Promise((function(r){Z(!0),Pe(e).then((function(e){200!==e.status&&404!==e.status&&(T(!1),g(!1),Me(),n("/login")),t(e.items||[]),Z(!1),r({msg:"item updated"})}))}))},ge=function(){window.innerWidth<=1e3?S(!0):S(!1)};window.addEventListener("resize",ge),Object(r.useEffect)((function(){return ge()}),[]);var ye=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{Authorization:"Bearer "+p}},e.prev=1,e.next=4,Te(Se("delete/"+t),n);case 4:if(200===(r=e.sent).status){e.next=7;break}return e.abrupt("return",{state:!1,status:r.status,msg:r.msg});case 7:return e.next=9,r.json();case 9:return a=e.sent,e.abrupt("return",{state:!0,status:r.status,msg:a.msg});case 13:return e.prev=13,e.t0=e.catch(1),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,a,s,c,i,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.lastname,a=t.govid,s=t.email,c=t.company,i={name:n,last_name:r,gov_id:a,email:s,company:c},l={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p},body:JSON.stringify(i)},e.prev=3,e.next=6,fetch(Se("createclient"),l);case 6:if(200===(d=e.sent).status){e.next=9;break}return e.abrupt("return",{state:!1,status:d.status,msg:d.msg});case 9:return e.next=11,d.json();case 11:return u=e.sent,e.abrupt("return",{state:!0,status:d.status,msg:u.msg,client:u.client});case 15:return e.prev=15,e.t0=e.catch(3),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0});case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(o.a.mark((function e(t,r){var a,s,c,i,l,d,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.orderId,s=r.startDate,c=r.endDate,i=r.city,l=r.state,d=r.country,u=null,console.log("the search type is",t),e.t0=t,e.next="by-id"===e.t0?6:"by-date"===e.t0?9:"by-location"===e.t0?12:15;break;case 6:return u=Se("orders/"+a),j="Order by Id",e.abrupt("break",15);case 9:return u=Se("orders/"+s+" - "+c),j="Orders between ".concat(s," and ").concat(c),e.abrupt("break",15);case 12:return u=Se("orders/shipping",{city:i,state:l,country:d}),j="Orders in ".concat(i," ").concat(l," ").concat(d),e.abrupt("break",15);case 15:return ie({url:u,title:j}),e.next=18,ve(u,H);case 18:fe(!1),n("/search");case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new URL("https://order-manager-api.herokuapp.com/api/v1/"+e);return t&&(n.search=new URLSearchParams(t)),n},Ce=function(){var e=Object(d.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Ne(t);case 3:(r=e.sent).state?n.client_id=r.client.id:n.client_id=void 0;case 5:return a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p},body:JSON.stringify(n)},e.prev=6,e.next=9,fetch(Se("createorder"),a);case 9:if(200===(s=e.sent).status){e.next=15;break}return e.next=13,s.json();case 13:return s=e.sent,e.abrupt("return",{state:!1,status:s.status,msg:s.msg,order:null});case 15:return e.next=17,s.json();case 17:return s=e.sent,e.abrupt("return",{state:!0,status:s.status,msg:s.msg,order:s.order});case 21:return e.prev=21,e.t0=e.catch(6),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0});case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p},body:JSON.stringify(t)},e.prev=1,e.next=4,Te(Se("createpayment"),n);case 4:if(200===(r=e.sent).status){e.next=7;break}return e.abrupt("return",{state:!1,status:r.status,msg:r.msg});case 7:return e.abrupt("return",{state:!0,status:r.status,msg:r.msg});case 10:return e.prev=10,e.t0=e.catch(1),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p},body:JSON.stringify(t)},e.prev=1,e.next=4,fetch(Se("createshipping"),n);case 4:if(200===(r=e.sent).status){e.next=10;break}return e.next=8,r.json();case 8:return r=e.sent,e.abrupt("return",{state:!1,status:r.status,msg:r.msg});case 10:return e.next=12,r.json();case 12:return r=e.sent,e.abrupt("return",{state:!0,status:r.status,msg:r.msg});case 16:return e.prev=16,e.t0=e.catch(1),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d.a)(o.a.mark((function e(t,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:return 401!==(a=e.sent).status&&422!==a.status||(T(!1),M(!1),re(!1),ue(!1),Z(!1),he(!1),fe(!1),Me(),n("/login")),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,password:n},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.prev=2,e.next=5,fetch(Se("login"),a);case 5:if(401!==(s=e.sent).status){e.next=9;break}return alert("Wrong password or email"),e.abrupt("return",!1);case 9:if(200===s.status){e.next=12;break}return alert("Something wrong happened, status code is ".concat(s.status)),e.abrupt("return",!1);case 12:return e.next=14,s.json();case 14:return s=e.sent,localStorage.setItem("token",s.access_token),localStorage.setItem("userName",s.user.name),i(s.user.name),O(s.access_token),e.abrupt("return",!0);case 22:e.prev=22,e.t0=e.catch(2),console.log("There was a tragic error",e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+p},body:JSON.stringify(t)},e.prev=1,e.next=4,Te(Se(n),r);case 4:if(200===(a=e.sent).status){e.next=11;break}return s=a.status,e.next=9,a.json();case 9:return a=e.sent,e.abrupt("return",{status:s,res:a});case 11:return e.next=13,a.json();case 13:return a=e.sent,e.abrupt("return",{status:200,msg:a.msg});case 17:return e.prev=17,e.t0=e.catch(1),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0,res:void 0,items:[]});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(o.a.mark((function e(t,n,r){var a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t,email:n,password:r},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.prev=2,e.next=5,fetch(Se("signup"),s);case 5:if(405!==(c=e.sent).status){e.next=9;break}return alert("There is an user with that email already"),e.abrupt("return",!1);case 9:if(200===c.status){e.next=12;break}return alert("Something wrong happened, status code is ".concat(c.status)),e.abrupt("return",!1);case 12:return e.next=14,c.json();case 14:return c=e.sent,localStorage.setItem("token",c.access_token),localStorage.setItem("userName",c.user.name),i(c.user.name),O(c.access_token),e.abrupt("return",!0);case 22:e.prev=22,e.t0=e.catch(2),console.log("There was a tragic error",e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Me=function(){localStorage.removeItem("userName"),localStorage.removeItem("token"),i(null),O(null)},Pe=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(localStorage.getItem("token")),n=localStorage.getItem("token"),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}},e.prev=3,e.next=6,Te(t,r);case 6:if(200===(a=e.sent).status){e.next=13;break}return s=a.status,e.next=11,a.json();case 11:return a=e.sent,e.abrupt("return",{status:s,res:a,items:[]});case 13:return e.next=15,a.json();case 15:return a=e.sent,e.abrupt("return",{status:200,items:a});case 19:return e.prev=19,e.t0=e.catch(3),console.log("There was a tragic error",e.t0),e.abrupt("return",{state:!1,status:void 0,msg:e.t0,res:void 0,items:[]});case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(m.Provider,{value:{login:Ie,signup:_e,userName:c,token:p,checkUser:function(){var e=localStorage.getItem("userName");i(e);var t=localStorage.getItem("token");O(t)},logout:Me,showSidebar:v,setShowSidebar:g,mobileView:w,checkMobile:ge,fetchAll:Pe,showNewOrderModal:F,setShowNewOrderModal:T,clients:L,setClients:A,orders:B,setOrders:H,createOrder:Ce,createClient:Ne,navigate:n,deleteItem:ye,updateItems:ve,showEditClientModal:_,setShowEditClientModal:M,clientToEdit:J,setClientToEdit:z,showSpinner:Y,setShowSpinner:Z,editItem:Ee,createPayment:ke,createShipping:Fe,showEditOrderModal:ne,setShowEditOrderModal:re,orderToEdit:W,setOrderToEdit:K,ordersToFetch:ce,setOrdersToFetch:ie,showShippingInfo:de,setShowShippingInfo:ue,showPayments:me,setShowPayments:he,showSearchModal:xe,setShowSearchModal:fe,searchOrders:we,generateURL:Se},children:t})}n(456);function p(){var e=a.a.useContext(m),t=e.userName,n=e.logout,r=e.showSidebar,s=e.setShowSidebar,c=e.mobileView,l=e.setShowSearchModal,o=e.setShowNewOrderModal;return Object(b.jsx)("header",{className:"container-fluid p-0",children:Object(b.jsxs)("div",{className:"header-container w-100 header d-flex align-items-center justify-content-between px-4",children:[c&&Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("i",{className:"bi bi-journal-code fs-1"})}),Object(b.jsxs)("nav",{className:"navbar "+(c?"flex-column justify-content-start ":"")+(r?"active":""),children:[!c&&Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("i",{className:"bi bi-journal-code fs-1"})}),Object(b.jsx)("ul",{className:"user-links",children:t?Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("li",{className:"fs-4",children:Object(b.jsxs)("p",{className:"m-0",children:["Hola ",t]})}),Object(b.jsx)("li",{className:"login-link",children:Object(b.jsx)(i.b,{to:"/",onClick:function(){s(!1),n()},children:"Log out"})})]}):Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("li",{className:"login-link",children:Object(b.jsx)(i.b,{to:"/signup",onClick:function(){return s(!1)},children:"Sign up"})}),Object(b.jsx)("li",{className:"login-link",children:Object(b.jsx)(i.b,{to:"/login",onClick:function(){return s(!1)},children:"Log in"})})]})}),t&&Object(b.jsxs)("ul",{className:"nav-menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/dashboard/orders",children:"Orders"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/dashboard/clients",children:"Clients"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"#",onClick:function(){return l(!0)},children:"Search"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"#",onClick:function(){return o((function(e){return!e}))},children:"New Order"})})]})]}),c&&Object(b.jsx)("div",{className:"menu-icon "+(r?"rotate-45":""),onClick:function(){return s(!r)},children:Object(b.jsx)("i",{className:"fs-1 "+(r?"bi bi-plus":"bi bi-list")})})]})})}n(457);function O(e){var t=e.userName,n=Object(j.g)();return Object(r.useEffect)((function(){null!==t&&n("/dashboard")})),Object(b.jsx)(a.a.Fragment,{children:Object(b.jsxs)("div",{className:"container justify-content-center mt-5",children:[Object(b.jsx)("h1",{className:"fs-1 text-center",children:"Welcome to your daily order manager"}),Object(b.jsx)("div",{className:"container login-container",children:Object(b.jsxs)("div",{className:"row mt-5",children:[Object(b.jsxs)("div",{className:"col-10 offset-1 col-sm-4 offset-sm-1 col-lg-3 offset-lg-2 login-col mb-5",children:[Object(b.jsx)("h3",{children:"Are you new?"}),Object(b.jsx)(i.b,{to:"/signup",children:"Sign up!"})]}),Object(b.jsxs)("div",{className:"col-10 offset-1 col-sm-4 offset-sm-2 col-lg-3 offset-lg-2 login-col mb-5",children:[Object(b.jsx)("h3",{children:"Have an account?"}),Object(b.jsx)(i.b,{to:"/login",children:"Log in!"})]})]})})]})})}n(458);function x(e){var t=e.login,n=e.userName,r=Object(j.g)(),s=function(){var e=Object(d.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(n.target.email.value,n.target.password.value);case 3:e.sent&&r("/dashboard");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){n&&r("/dashboard")})),Object(b.jsx)(a.a.Fragment,{children:Object(b.jsx)("form",{className:"container-sm mt-5",onSubmit:s,children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-10 col-md-6 col-lg-5 align-items-center d-flex flex-column px-5 py-3 form-decorate",children:[Object(b.jsxs)("div",{className:"d-flex flex-column w-100 my-4",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",placeholder:"juano@carrancho.com",name:"email",required:!0})]}),Object(b.jsxs)("div",{className:"d-flex flex-column w-100 my-4",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",required:!0})]}),Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Log In"})]})})})})}function f(e){var t=e.signup,n=e.userName,r=Object(j.g)(),s=function(){var e=Object(d.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(n.target.name.value,n.target.email.value,n.target.password.value);case 3:e.sent&&r("/dashboard");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){n&&r("/dashboard")})),Object(b.jsx)("form",{className:"container-sm mt-5",onSubmit:s,children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-10 col-md-6 col-lg-5 align-items-center d-flex flex-column px-5 py-3 form-decorate",children:[Object(b.jsxs)("div",{className:"d-flex flex-column w-100 my-4",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(b.jsx)("input",{type:"Text",placeholder:"Juano",name:"name",required:!0})]}),Object(b.jsxs)("div",{className:"d-flex flex-column w-100 my-4",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",placeholder:"juano@carrancho.com",name:"email",required:!0})]}),Object(b.jsxs)("div",{className:"d-flex flex-column w-100 my-4",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",required:!0})]}),Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Sign up"})]})})})}n(459);function v(){var e="col-option col-8 offset-2 col-md-3 my-2 d-flex flex-column text-center py-4",t=a.a.useContext(m),n=t.userName,r=t.setShowNewOrderModal,s=t.setShowSearchModal,c=Object(j.g)();return a.a.useEffect((function(){n||c("/login")})),Object(b.jsx)(a.a.Fragment,{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row pt-5",children:[Object(b.jsxs)("div",{className:"".concat(e," offset-md-2"),onClick:function(){r((function(e){return!e}))},children:[Object(b.jsx)("i",{className:"bi bi-bag-plus-fill icon-option"}),Object(b.jsx)("p",{children:"New Order"})]}),Object(b.jsxs)("div",{className:"".concat(e," offset-md-2"),onClick:function(){return s(!0)},children:[Object(b.jsx)("i",{className:"bi bi-search icon-option"}),Object(b.jsx)("p",{children:" Search "})]}),Object(b.jsx)("div",{className:"".concat(e," offset-md-2"),children:Object(b.jsxs)(i.b,{to:"/dashboard/orders",children:[Object(b.jsx)("i",{className:"bi bi-journal-bookmark-fill icon-option"}),Object(b.jsx)("p",{children:" Orders "})]})}),Object(b.jsx)("div",{className:"".concat(e," offset-md-2"),children:Object(b.jsxs)(i.b,{to:"/dashboard/clients",children:[Object(b.jsx)("i",{className:"bi bi-person-lines-fill icon-option"}),Object(b.jsx)("p",{children:" Clients "})]})})]})})})}var g=n(18),y=n(14),N=n(57);function w(e){var t=e.columns,n=e.data,r=e.tableHooks,s=e.columnOrder,c=Object(N.useTable)({columns:t,data:n,initialState:{columnOrder:s}},r,N.useSortBy,N.useColumnOrder,N.useFlexLayout),i=c.getTableProps,l=c.getTableBodyProps,o=c.headerGroups,d=c.rows,u=c.prepareRow;return Object(b.jsx)(a.a.Fragment,{children:Object(b.jsx)("div",{className:"table-container",children:Object(b.jsxs)("table",Object(y.a)(Object(y.a)({className:"orderTable"},i()),{},{children:[Object(b.jsx)("thead",{children:o.map((function(e){return Object(b.jsx)("tr",Object(y.a)(Object(y.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsxs)("th",Object(y.a)(Object(y.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),e.isSorted?e.isSortedDesc?" \u25bc":" \u25b2":""]}))}))}))}))}),Object(b.jsx)("tbody",Object(y.a)(Object(y.a)({},l()),{},{children:d.map((function(e){return u(e),Object(b.jsx)("tr",Object(y.a)(Object(y.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(b.jsx)("td",Object(y.a)(Object(y.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))})})}function S(){var e=a.a.useContext(m),t=e.deleteItem,n=e.updateItems,r=e.clients,s=e.setClients,c=e.setShowEditClientModal,i=e.generateURL,l=e.setClientToEdit,u=e.showSpinner,j=e.navigate,h=e.setOrdersToFetch;a.a.useEffect((function(){n(i("users"),s)}),[]);var p=a.a.useMemo((function(){return Object(g.a)(r)}),[r]),O=a.a.useMemo((function(){return r[0]?Object.keys(r[0]).map((function(e){return{Header:e,accessor:e}})):[]}),[r]);return Object(b.jsx)(b.Fragment,{children:u?Object(b.jsx)("div",{className:"container text-center mt-5 fs-2",children:"Clients comming ..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"h1 text-center mt-5",children:"All Clients"}),r[0]?Object(b.jsx)(w,{columns:O,data:p,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(g.a)(e),[{id:"Options",Header:"Option",width:300,Cell:function(e){var r=e.row;return Object(b.jsxs)("div",{className:"button-cell",children:[Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){l({id:r.values.id,name:r.values.name,lastName:r.values.last_name,govId:r.values.gov_id,email:r.values.email,company:r.values.company}),c(!0)},children:"Edit"}),Object(b.jsx)("button",{className:"btn btn-info",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({title:r.values.name+"'s Orders"}),j("dashboard/orders/"+r.values.id);case 2:case"end":return e.stop()}}),e)}))),children:"Orders"}),Object(b.jsx)("button",{className:"btn btn-danger",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r.values.id).then((function(){n(i("users"),s)}));case 1:case"end":return e.stop()}}),e)}))),children:"Delete"})]})}}])}))},columnOrder:["id","name","last_name","email","gov_id","company"]}):Object(b.jsx)("div",{className:"container text-center pt-4",children:"No Clients in the system"})]})})}n(461);var C=function(e){var t=e.children,n=e.elementId,r=e.setShowModal;return c.a.createPortal(Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"background",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"modal-container col-11 col-md-6 px-0 popup",children:[Object(b.jsx)("div",{className:"close",onClick:function(){return r(!1)},children:Object(b.jsx)("i",{className:"bi bi-plus-lg"})}),t]})})})})}),document.getElementById(n))},k=(n(462),function(){var e=a.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],s=a.a.useContext(m),c=s.setShowNewOrderModal,i=s.clients,l=s.setClients,j=s.createOrder,h=s.updateItems,p=s.setShowSpinner,O=s.createPayment,x=s.createShipping,f=s.generateURL,v=a.a.useState("ExistingClient"),N=Object(u.a)(v,2),w=N[0],S=N[1],C=a.a.useState([]),k=Object(u.a)(C,2),F=k[0],T=k[1],I=a.a.useState(!1),E=Object(u.a)(I,2),_=E[0],M=E[1],P=a.a.useState({subtotal:0,taxes:0,shipping:0,payment:0}),D=Object(u.a)(P,2),L=D[0],A=D[1];a.a.useEffect((function(){var e=Object(y.a)({},L);e.payment=F.reduce((function(e,t){return e+t.total}),0),A(e)}),[F]);var V=function(){return L.subtotal+L.taxes+L.shipping-L.payment>0};a.a.useEffect((function(){V()&&r(!1)}),[L]);var q=function(e,t){var n=Object(y.a)({},L);n[t]=isNaN(e)?0:e,A(n)};a.a.useEffect((function(){h(f("users"),l)}),[]);var B=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,a,s,i,l,d,u,b,m,h,f,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),n=t.target,r=!V(),a=""===n.subtotal.value?0:n.subtotal.value,s=""===n.taxes.value?0:n.taxes.value,"ExistingClient"===n.clienttype.value?(i=n.client.value,l=!1):(d=n.name.value,u=n.lastname.value,b=n.govid.value,m=n.email.value,h=n.company.value,l={name:d,lastname:u,govid:b,email:m,company:h},i=null),e.next=9,j(l,{subtotal:a,taxes:s,client_id:i,paid:r});case 9:!0===(f=e.sent).state?v=f.order.id:alert(f.msg),F.forEach((function(e){O({type:e.type,total:e.total,order_id:v})})),_&&x({order_id:v,address:n.address.value,city:n.city.value,state:n.state.value,country:n.country.value,cost:""===n.cost.value?0:n.cost.value,delivered:n.delivered.checked}),c(!1),p(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"New Order"}),Object(b.jsxs)("form",{className:"form-style",onSubmit:function(e){return B(e)},children:[Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"clienttype",children:"Order:"}),Object(b.jsxs)("select",{name:"clienttype",id:"clienttype",onClick:function(e){return S(e.target.value)},children:[Object(b.jsx)("option",{value:"ExistingClient",children:"Existing Client"}),Object(b.jsx)("option",{value:"NewClient",children:"New Client"})]})]}),Object(b.jsx)("div",{className:"group-form",children:"NewClient"===w?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(b.jsx)("input",{type:"text",name:"name",required:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(b.jsx)("input",{type:"text",name:"lastname"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"govid",children:"Gov Id:"}),Object(b.jsx)("input",{type:"text",name:"govid",required:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"text",name:"email"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"company",children:"Company"}),Object(b.jsx)("input",{type:"text",name:"company"})]})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"client",children:"Client"}),Object(b.jsx)("select",{name:"client",id:"client",required:!0,children:i.length>0&&i.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.id+" "+e.name},e.id)}))})]})}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"subtotal",children:"Subtotal: $"}),Object(b.jsx)("input",{type:"number",name:"subtotal",onChange:function(e){return q(parseInt(e.target.value),"subtotal")}})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"taxes",children:"Taxes: $"}),Object(b.jsx)("input",{type:"number",name:"taxes",onChange:function(e){return q(parseInt(e.target.value),"taxes")}})]}),Object(b.jsxs)("div",{className:"payments-container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn btn-ligth payment-button",onClick:function(e){!function(e){e.preventDefault(),T([].concat(Object(g.a)(F),[{type:"Credit Cart",total:0}]))}(e)},children:"Add Payment"}),Object(b.jsx)("button",{className:"btn btn-ligth payment-button",onClick:function(e){!function(e){e.preventDefault();var t=Object(g.a)(F);t.pop(),T(t)}(e)},children:"Remove Payment"})]}),F.map((function(e,t){return Object(b.jsxs)("div",{className:"group-form",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{htmlFor:t+"paymenttype",children:["Payment ",t+1,":"," "]}),Object(b.jsxs)("select",{name:t+"paymenttype",id:"paymenttype",onClick:function(e){!function(e,t){var n=Object(g.a)(F);n[t].type=e,T(n)}(e.target.value,t)},children:[Object(b.jsx)("option",{value:"Credit Cart",children:"Credit cart"}),Object(b.jsx)("option",{value:"Cash",children:"Cash"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:t+"paymenttotal",children:"Total: "}),Object(b.jsx)("input",{type:"number",name:t+"paymenttotal",onChange:function(e){!function(e,t){var n=Object(g.a)(F);n[t].total=isNaN(e)?0:e,T(n)}(parseInt(e.target.value),t)}})]})]},"payment"+t)}))]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"enableshipping",children:"Ship ?"}),Object(b.jsx)("input",{className:"w-auto",type:"checkbox",name:"enableshipping",onChange:function(e){M(e.target.checked)}})]}),_&&Object(b.jsxs)("div",{className:"group-form",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"address",children:"Address:"}),Object(b.jsx)("input",{type:"text",name:"address"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"city",children:"City:"}),Object(b.jsx)("input",{type:"text",name:"city"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"State",children:"State:"}),Object(b.jsx)("input",{type:"text",name:"state"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"country",children:"Country:"}),Object(b.jsx)("input",{type:"text",name:"country"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"cost",children:"Cost: $"}),Object(b.jsx)("input",{type:"number",name:"cost",onChange:function(e){return q(parseInt(e.target.value),"shipping")}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"delivered",children:"Deliver:"}),Object(b.jsx)("input",{className:"w-auto",type:"checkbox",name:"delivered",checked:n,onClick:function(){V()?r(!1):r(!n)},disabled:V()})]})]}),Object(b.jsx)("button",{className:"btn btn-primary btn-form",type:"submit",children:"Create Order"})]})]})});n(463);function F(){return Object(b.jsx)("div",{children:"hola"})}var T=function(){var e=a.a.useContext(m),t=e.generateURL,n=e.clientToEdit,r=e.editItem,s=e.setShowSpinner,c=e.updateItems,i=e.setClients,l=a.a.useState(null),j=Object(u.a)(l,2),h=j[0],p=j[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"Edit Client"}),Object(b.jsxs)("form",{className:"form-style",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),p(null),s(!0),e.next=5,r({client_id:n.target.id.value,name:n.target.name.value,last_name:n.target.lastname.value,gov_id:n.target.govid.value,email:n.target.email.value,company:n.target.company.value},"updateclient");case 5:a=e.sent,p(a.msg),c(t("users"),i),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"id",children:"Client Id:"}),Object(b.jsx)("input",{className:"client-id",defaultValue:n.id,type:"text",name:"id",readOnly:!0})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(b.jsx)("input",{defaultValue:n.name,type:"text",name:"name",required:!0})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(b.jsx)("input",{type:"text",name:"lastname",defaultValue:n.lastName})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"govid",children:"Gov Id:"}),Object(b.jsx)("input",{type:"text",name:"govid",defaultValue:n.govId})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"text",name:"email",defaultValue:n.email})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"company",children:"Company"}),Object(b.jsx)("input",{type:"text",name:"company",defaultValue:n.company})]}),h&&Object(b.jsx)("p",{style:{color:"green"},children:h}),Object(b.jsx)("button",{className:"btn btn-primary btn-form",type:"submit",children:"Update Client"})]})]})},I=function(){var e=a.a.useContext(m),t=e.ordersToFetch,n=e.orderToEdit,r=e.editItem,s=e.setShowSpinner,c=e.updateItems,i=e.setOrders,l=a.a.useState(null),j=Object(u.a)(l,2),h=j[0],p=j[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"Edit Order"}),Object(b.jsxs)("form",{className:"form-style",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),p(null),s(!0),e.next=5,r({order_id:n.target.order_id.value,subtotal:n.target.subtotal.value,taxes:n.target.taxes.value},"updateorder");case 5:a=e.sent,p(a.msg),c(t.url,i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"order_id",children:"order Id:"}),Object(b.jsx)("input",{className:"form-id",defaultValue:n.order_id,type:"text",name:"order_id",readOnly:!0})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"subtotal",children:"Subtotal: $"}),Object(b.jsx)("input",{defaultValue:n.subtotal,type:"number",name:"subtotal",required:!0})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"taxes",children:"Taxes: $"}),Object(b.jsx)("input",{type:"number",name:"taxes",defaultValue:n.taxes})]}),h&&Object(b.jsx)("p",{style:{color:"green"},children:h}),Object(b.jsx)("button",{className:"btn btn-primary btn-form",type:"submit",children:"Update Order"})]})]})},E=(n(464),function(){return c.a.createPortal(Object(b.jsx)("div",{className:"spinner-background",children:Object(b.jsxs)("div",{className:"spinner",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})}),document.getElementById("loading-modal"))});function _(){var e=a.a.useContext(m),t=e.orders,n=e.deleteItem,r=e.showSpinner,s=e.updateItems,c=e.setOrders,i=e.setShowEditOrderModal,l=e.setOrderToEdit,u=e.ordersToFetch,j=e.setShowShippingInfo,h=e.setShowPayments,p=a.a.useMemo((function(){return Object(g.a)(t)}),[t]),O=a.a.useMemo((function(){return t[0]?Object.keys(t[0]).filter((function(e){return"shipping_info"!==e&&"user_information"!==e&&"paid"!==e&&"payments"!==e})).map((function(e){var t=150;return["subtotal","taxes","total"].includes(e)&&(t=80),["gov_id","order_status"].includes(e)&&(t=100),{Header:e,accessor:e,width:t}})):[]}),[t]);return Object(b.jsx)(b.Fragment,{children:r?Object(b.jsx)("div",{className:"container text-center mt-5 fs-2",children:"Orders comming ..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"h1 text-center mt-5",children:u.title}),t[0]?Object(b.jsx)(w,{columns:O,data:p,tableHooks:function(e){e.visibleColumns.push((function(e){return[].concat(Object(g.a)(e),[{id:"Options",Header:"Options",width:300,Cell:function(e){var r=e.row;return Object(b.jsxs)("div",{className:"button-cell",children:[Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){l(t.filter((function(e){return e.order_id===r.values.order_id}))[0]),i(!0)},children:"Edit"}),Object(b.jsx)("button",{className:"btn btn-danger",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(r.values.order_id).then((function(){s(u.url,c)}));case 1:case"end":return e.stop()}}),e)}))),children:"Delete"}),Object(b.jsx)("button",{className:"btn btn-info",onClick:function(){l(t.filter((function(e){return e.order_id===r.values.order_id}))[0]),j(!0)},children:"Shipping"}),Object(b.jsx)("button",{className:"btn btn-info",onClick:function(){l(t.filter((function(e){return e.order_id===r.values.order_id}))[0]),h(!0)},children:"Payments"})]})}}])}))},columnOrder:["order_id","customer_name","gov_id","subtotal","taxes","total"]}):Object(b.jsx)("div",{className:"container text-center pt-4",children:"No orders in the system"})]})})}var M=function(){var e=a.a.useContext(m),t=e.generateURL,n=e.setOrdersToFetch,r=e.updateItems,s=e.setOrders;return a.a.useEffect((function(){var e=t("orders");n({url:e,title:"All Orders"}),r(e,s)}),[]),Object(b.jsx)(_,{})},P=function(){var e=a.a.useContext(m),t=e.generateURL,n=e.setOrdersToFetch,r=e.setOrders,s=e.updateItems,c=Object(j.h)().clientId;return a.a.useEffect((function(){var e=t("orders/user/"+c);n((function(t){return t.url=e,t})),s(e,r)}),[]),Object(b.jsx)(_,{})},D=function(e){var t=e.shipping_info,n=e.action,r=a.a.useContext(m),s=r.ordersToFetch,c=r.editItem,i=r.setShowSpinner,l=r.updateItems,j=r.setOrders,h=r.createShipping,p=r.orderToEdit,O=r.setOrderToEdit,x=r.orders,f=a.a.useState(null),v=Object(u.a)(f,2),g=v[0],y=v[1],N=function(){var e=Object(d.a)(o.a.mark((function e(r){var a,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),y(null),i(!0),a={shipping_id:t.id,order_id:p.order_id,address:r.target.address.value,city:r.target.city.value,state:r.target.state.value,country:r.target.country.value,cost:""===r.target.cost.value?0:r.target.cost.value,delivered:r.target.delivered.checked},"edit"!==n){e.next=10;break}return e.next=7,c(a,"updateshipping");case 7:d=e.sent,e.next=14;break;case 10:if("create"!==n){e.next=14;break}return e.next=13,h(a);case 13:d=e.sent;case 14:y(d.msg),l(s.url,j),i(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){x.filter((function(e){return e.order_id===p.order_id}))[0];O(x.filter((function(e){return e.order_id===p.order_id}))[0])}),[x]),a.a.useEffect((function(){console.log("in shipping form the order to edit now is ",p)}),[p]),Object(b.jsxs)("form",{className:"form-style",onSubmit:function(e){return N(e)},children:[Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"address",children:"Address:"}),Object(b.jsx)("input",{defaultValue:t.address,type:"text",name:"address"})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"city",children:"City:"}),Object(b.jsx)("input",{defaultValue:t.city,type:"text",name:"city"})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"state",children:"State:"}),Object(b.jsx)("input",{defaultValue:t.state,type:"text",name:"state"})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"country",children:"Country:"}),Object(b.jsx)("input",{defaultValue:t.country,type:"text",name:"country"})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"cost",children:"Cost: $"}),Object(b.jsx)("input",{defaultValue:t.cost,type:"number",name:"cost"})]}),Object(b.jsxs)("div",{className:"grid-input",children:[Object(b.jsx)("label",{htmlFor:"delivered",children:"Delivered:"}),Object(b.jsx)("input",{defaultChecked:t.delivered,type:"checkbox",name:"delivered"})]}),g&&Object(b.jsx)("p",{style:{color:"green"},children:g}),Object(b.jsx)("button",{className:"btn btn-primary btn-form",type:"submit",children:"Update Info"})]})},L=function(){var e=a.a.useContext(m),t=e.orderToEdit,n=(e.orders,a.a.useState(!1)),r=Object(u.a)(n,2),s=r[0],c=r[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"Shipping Info"}),t.shipping_info?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{shipping_info:t.shipping_info,action:"edit"})}):Object(b.jsx)(b.Fragment,{children:s?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{shipping_info:{},action:"create"})}):Object(b.jsxs)("div",{className:"form-style",children:[Object(b.jsx)("p",{children:"No shipping Info"}),Object(b.jsx)("button",{className:"btn btn-primary btn-form",onClick:function(){c(!0)},children:"Add Shipping Info"})]})})]})},A=(n(465),function(){var e=a.a.useContext(m),t=e.orderToEdit,n=e.setShowSpinner,r=e.ordersToFetch,s=e.setOrders,c=e.orders,i=e.setOrderToEdit,l=e.createPayment,j=e.updateItems,h=a.a.useState(!1),p=Object(u.a)(h,2),O=p[0],x=p[1],f=a.a.useMemo((function(){return Object(g.a)(t.payments)}),[t]),v=a.a.useMemo((function(){return t.payments[0]?Object.keys(t.payments[0]).map((function(e){var t=150,n=e;return"total"===e&&(t=80),"_type"===e&&(n="type",t=100),{Header:n,accessor:e,width:t}})):[]}),[t]),y=function(){var e=Object(d.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n(!0),e.next=4,l({type:a.target.paymenttype.value,total:a.target.paymenttotal.value,order_id:t.order_id});case 4:j(r.url,s),x(!1),n(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){i(c.filter((function(e){return e.order_id===t.order_id}))[0])}),[c]),Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"Payments"}),t.payments[0]?Object(b.jsx)("div",{className:"payments-container m-2",children:Object(b.jsx)(w,{columns:v,data:f,tableHooks:function(e){e.visibleColumns.push((function(e){return Object(g.a)(e)}))}})}):Object(b.jsx)("p",{className:"mx-2 text-center",children:"There are no payments yet"}),O?Object(b.jsxs)("form",{className:"form-style",onSubmit:function(e){y(e)},children:[Object(b.jsxs)("div",{className:"group-form",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"paymenttype",children:"Payment: "}),Object(b.jsxs)("select",{name:"paymenttype",required:!0,children:[Object(b.jsx)("option",{value:"Credit Cart",children:"Credit cart"}),Object(b.jsx)("option",{value:"Cash",children:"Cash"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"paymenttotal",children:"Total: "}),Object(b.jsx)("input",{type:"number",name:"paymenttotal",required:!0})]})]}),Object(b.jsx)("button",{className:"btn btn-primary mx-auto mb-2 my-2",type:"submit",children:"Add Payment"})]}):Object(b.jsx)("button",{className:"btn btn-primary mx-auto mb-2",onClick:function(){return x(!0)},children:"Add Payment"})]})}),V=(n(466),function(){var e=a.a.useState("by-id"),t=Object(u.a)(e,2),n=t[0],r=t[1],s=a.a.useContext(m),c=s.searchOrders,i=s.setShowSpinner;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"form-title",children:"Search"}),Object(b.jsxs)("form",{className:"search-form",onSubmit:function(e){return function(e){e.preventDefault(),i(!0),c(n,{orderId:e.target.orderId.value,startDate:e.target.startDate.value,endDate:e.target.endDate.value,city:e.target.city.value,state:e.target.state.value,country:e.target.country.value}),i(!1)}(e)},children:[Object(b.jsxs)("div",{className:"accordion w-100 accordion-flus",id:"accordion-search",children:[Object(b.jsxs)("div",{className:"accordion-item",children:[Object(b.jsx)("h2",{className:"accordion-header",id:"headingOne",children:Object(b.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",onClick:function(){return r("by-id")},children:"Search order by id"})}),Object(b.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordion-search",children:Object(b.jsx)("div",{className:"accordion-body",children:Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"orderId",children:"Order Id:"}),Object(b.jsx)("input",{type:"text",name:"orderId",required:"by-id"===n})]})})})]}),Object(b.jsxs)("div",{className:"accordion-item",children:[Object(b.jsx)("h2",{className:"accordion-header",id:"headingTwo",children:Object(b.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",onClick:function(){return r("by-date")},children:"Search orders by dates"})}),Object(b.jsx)("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordion-search",children:Object(b.jsxs)("div",{className:"accordion-body",children:[Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"startDate",children:"Start Date:"}),Object(b.jsx)("input",{type:"date",name:"startDate",required:"by-date"===n})]}),Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"endDate",children:"End Date:"}),Object(b.jsx)("input",{type:"date",name:"endDate",required:"by-date"===n})]})]})})]}),Object(b.jsxs)("div",{className:"accordion-item",children:[Object(b.jsx)("h2",{className:"accordion-header",id:"headingThree",children:Object(b.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",onClick:function(){return r("by-location")},children:"Search Orders by location"})}),Object(b.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordion-search",children:Object(b.jsxs)("div",{className:"accordion-body",children:[Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"country",children:"Country: "}),Object(b.jsx)("input",{type:"text",name:"country"})]}),Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"state",children:"State: "}),Object(b.jsx)("input",{type:"text",name:"state"})]}),Object(b.jsxs)("div",{className:"search-input grid-input",children:[Object(b.jsx)("label",{htmlFor:"city",children:"City: "}),Object(b.jsx)("input",{type:"text",name:"city"})]})]})})]})]}),Object(b.jsx)("button",{className:"btn btn-primary m-2",type:"submit",children:"Search"})]})]})}),q=function(){var e=Object(r.useContext)(m),t=e.userName,n=e.login,s=e.checkUser,c=e.signup,i=e.showNewOrderModal,l=e.setShowNewOrderModal,o=e.showEditClientModal,d=e.setShowEditClientModal,u=e.showSpinner,h=e.showEditOrderModal,g=e.setShowEditOrderModal,y=e.showShippingInfo,N=e.setShowShippingInfo,w=e.showPayments,D=e.setShowPayments,q=e.showSearchModal,B=e.setShowSearchModal;return a.a.useEffect((function(){s()})),Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(p,{}),Object(b.jsx)("div",{className:"body-container",children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{path:"/",element:Object(b.jsx)(O,{userName:t})}),Object(b.jsx)(j.b,{path:"/Order_Manager_frontend/",element:Object(b.jsx)(j.a,{replace:!0,to:"/"})}),Object(b.jsx)(j.b,{path:"/login",element:Object(b.jsx)(x,{login:n,userName:t})}),Object(b.jsx)(j.b,{path:"/signup",element:Object(b.jsx)(f,{signup:c,userName:t})}),Object(b.jsx)(j.b,{path:"/dashboard",element:Object(b.jsx)(v,{userName:t,setShowNewOrderModal:l})}),Object(b.jsx)(j.b,{path:"/dashboard/orders",element:Object(b.jsx)(M,{})}),Object(b.jsx)(j.b,{path:"/dashboard/orders/:clientId",element:Object(b.jsx)(P,{})}),Object(b.jsx)(j.b,{path:"/dashboard/clients",element:Object(b.jsx)(S,{})}),Object(b.jsx)(j.b,{path:"/loading",element:Object(b.jsx)(E,{})}),Object(b.jsx)(j.b,{path:"/test",element:Object(b.jsx)(F,{})}),Object(b.jsx)(j.b,{path:"/search",element:Object(b.jsx)(_,{})})]})}),i&&Object(b.jsx)(C,{setShowModal:l,elementId:"new-order-modal",children:Object(b.jsx)(k,{})}),o&&Object(b.jsx)(C,{setShowModal:d,elementId:"edit-client-modal",children:Object(b.jsx)(T,{})}),h&&Object(b.jsx)(C,{setShowModal:g,elementId:"edit-order-modal",children:Object(b.jsx)(I,{})}),y&&Object(b.jsx)(C,{setShowModal:N,elementId:"shipping-info-modal",children:Object(b.jsx)(L,{})}),w&&Object(b.jsx)(C,{setShowModal:D,elementId:"payments-modal",children:Object(b.jsx)(A,{})}),q&&Object(b.jsx)(C,{setShowModal:B,elementId:"search-modal",children:Object(b.jsx)(V,{})}),u&&Object(b.jsx)(E,{})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,468)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(h,{children:Object(b.jsx)(q,{})})})}),document.getElementById("root")),B()}},[[467,1,2]]]);
//# sourceMappingURL=main.29d20c44.chunk.js.map